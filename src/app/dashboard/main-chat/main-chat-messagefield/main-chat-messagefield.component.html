<div
  class="inputContainer"
  *ngIf="dialogAddService.tagsData && dataService.userData"
>
  <textarea
    *ngIf="
      varService.mainChatHead == 0 &&
      dialogAddService.tagsData &&
      varService.selectedChannel !== undefined
    "
    type="text"
    [(ngModel)]="messageService.messageText"
    placeholder="Nachricht an   {{
      dialogAddService.tagsData[varService.selectedChannel]?.name?.charAt(0) ||
        ''
    }} {{
      dialogAddService.tagsData[varService.selectedChannel]?.name?.slice(1) ||
        ''
    }}"
  ></textarea>

  <textarea
    *ngIf="
      varService.mainChatHead == 1 &&
      !currentUser() &&
      dataService.userData &&
      varService.selectedUserToMessage !== undefined
    "
    [(ngModel)]="directChatService.directMessage"
    placeholder="Nachricht an {{
      dataService.userData[varService.selectedUserToMessage]?.name || ''
    }}"
    [disabled]="!directChatService.directChatActive"
  ></textarea>
  <!-- <textarea
    *ngIf="
      varService.mainChatHead == 1 && currentUser() && dataService.userData
    "
    [(ngModel)]="loggedUser"
    [(ngModel)]="directChatService.directMessage"
    placeholder="Nachricht an mich :-)"
    [disabled]="!directChatService.directChatActive"
  ></textarea> -->
  <!-- <app-user-to-message
    *ngIf="
      varService.mainChatHead == 1 && currentUser() && dataService.userData
    "
  ></app-user-to-message> -->

  <app-message-input  
  *ngIf="varService.mainChatHead == 1 && currentUser() && dataService.userData" style="width: 98%;">

  </app-message-input>

  <textarea
    *ngIf="
      varService.mainChatHead == 2 &&
      dataService.userData &&
      varService.indexOfSearch !== undefined &&
      varService.propertyOfSearch
    "
    type="text"
    [(ngModel)]="searchField"
    placeholder="Nachricht an {{ varService.selectedArrayofSearch[varService.indexOfSearch]?.[varService.propertyOfSearch] || '' }}"
  ></textarea>
  <div class="iconsContainer" style="position: relative">
    <!-- <app-emoji-menu *ngIf="emojiService.emojiSelectorActive"></app-emoji-menu> -->
    <app-emoji-picker-bossi
      *ngIf="emojiService.emojiSelectorActive"
    ></app-emoji-picker-bossi>
    <div class="addElements">
      <div class="element">
        <!-- file upload click -->
        <input
        type="file"
        style="display: none"
        #fileInput
        (change)="uploadService.selectFile($event)"
        accept=".png, .jpg, .bmp, .JPEG, .JPG, .svg, .tiff, .gif, .pdf"
      />
        <img src="assets/img/add.png" (click)="openFileExplorer()" />
      </div>
      <div class="vector"></div>
      <div class="element">
        <img
          src="assets/img/satisfied.png"
          (click)="emojiService.toggleEmojiSelector()"
        />
      </div>
      <div class="element" (click)="addSign()">
        <img src="assets/img/email.png" />
      </div>
    </div>
    <div class="sendIcon">
      <img src="assets/img/send_icon.png" (click)="send()" />
    </div>
  </div>
</div>

<div class="uploadIndication" *ngIf="fileUploadService.fileUploadRuns">
  <mat-progress-spinner
  class="example-margin"
  [color]="'primary'"
  [mode]="'determinate'"
  [value]="fileUploadService.uploadPercentage">
</mat-progress-spinner>
  <span style="display: flex; position: absolute;">{{fileUploadService.uploadPercentage}}%</span>
</div>
