<div class="box">
  <!-- (input)="onContentChange($event)" -->
  <div class="inputDiv" #inputDiv contenteditable="true" id="inputDiv"
    [style.overflow-y]="userToMessageService.showInfoBox == -1 ? 'auto':'unset'" 
    (input)="onContentChange($event)"
    (click)="moveCursorToBeginning()"
    (blur)="checkPlaceholder()"
    >

    <h4 class="placeholder" 
    contenteditable="false" 
    style="position: absolute; display: flex;" 
    *ngIf="userToMessageService.placeholderView"
    [style.left]="!userToMessageService.placeholderView ? '-300px':'0px'"
    >
      {{userToMessageService.placeholderText}}
    </h4>

    <a  contenteditable="false"></a>
    <p *ngFor="let _ of userToMessageService.memberCache; let i = index" [attr.id]="'p' + i" #inputP class="pClass">

      <!-- <a  contenteditable="false">{{ invisibleSign }}</a> -->
      <!-- Info Box @-->
      <span class="infoBox"
        *ngIf="userToMessageService.showInfoBox == i && userToMessageService.memberCache[i].email != 'unset'" contenteditable="false">
        <span>Name:<br> {{ userToMessageService.memberCache[i].member }}</span>
        <span>Email:<br> {{userToMessageService.memberCache[i].email }}</span>
          <mat-icon (click)="deleteUserRef(i)" title="löschen">
            delete
          </mat-icon>
      </span>

      <!-- Info Box files-->
      <span class="infoBox"
        *ngIf="userToMessageService.showInfoBox == i && userToMessageService.memberCache[i].filename != 'unset'" contenteditable="false">
        <img src={{userToMessageService.memberCache[i].filelink}} alt="" style="max-width: 50%; height: auto;">
        <a href={{userToMessageService.memberCache[i].filelink}} target="_blank">{{ userToMessageService.memberCache[i].filename }}</a>
        <mat-icon (click)="deleteFile(i)" title="löschen">
          delete
        </mat-icon>
      </span>


      <!-- Ausgewählte User -->
      <span class="member"
        *ngIf="i > 0 && userToMessageService.memberCache[i].number != -1 && userToMessageService.memberCache[i].number != -2 && userToMessageService.memberCache[i].member != 'unset'"
        (mouseenter)="showInfoInput(i)"  [attr.id]="'span' + i" contenteditable="false">@
        {{ userToMessageService.memberCache[i].member }}
      </span>

      <!-- {{ invisibleSign }} -->
      <span class="member"
        *ngIf="i > 0 && userToMessageService.memberCache[i].number == -2 && userToMessageService.memberCache[i].filelink != 'unset'"
        (mouseenter)="showInfoInput(i)" [attr.id]="'span' + i" contenteditable="false">
        {{userToMessageService.memberCache[i].filename}}
      </span>

      <!-- {{ invisibleSign }} -->
      <span *ngIf="userToMessageService.memberCache[i].number == -1" class="emojiSpan" data-active='1'>
        {{userToMessageService.memberCache[i].member}}
      </span>
      
      <span contenteditable="false" *ngIf="i==0">
        {{ invisibleSign }}
      </span>
      
      

    </p>
  </div>

  <!-- User Box -->
  <div class="userBox" *ngIf="varService.sign">
    <div *ngFor="let name of dataService.userData; let i = index">
      <span class="user" (click)="selectedUser(i)">{{ name.name }}</span>
    </div>
  </div>


</div>