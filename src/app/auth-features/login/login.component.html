
<div class="loginContainer" style="position: relative;">

    <app-start-animation ></app-start-animation>
    <app-login-header></app-login-header>
    
    <div class="card">
        <form [formGroup]="loginForm" (submit)="loginWithEmailAndPassword()">
            <!-- <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar> -->
            <mat-card>
                <mat-card-header>
                    <mat-card-title>Anmeldung</mat-card-title>
                    <mat-card-subtitle>
                        Wir empfehlen dir, die E-Mail-Adresse zu nutzen, die du bei der Arbeit
                        verwendest.
                    </mat-card-subtitle>
                </mat-card-header>

                <div class="inputContainer">
                    <div class="inputInner">
                        <input type="email" placeholder="beispielname@email.com" formControlName="email">
                        <img src="../../assets/img/login/mail.png" style="position: absolute; left: 85px;">
                    </div>
                    <div *ngIf="loginForm.controls['email'].dirty && loginForm.controls['email'].touched"
                        class="warnContainer">
                        <span *ngIf="loginForm.controls['email'].errors">Diese Email-Adresse
                            ist leider ungültig.</span>
                    </div>
                </div>

                <div class="inputContainer">
                    <div class="inputInner">
                        <input type="password" placeholder="Passwort" formControlName="password" [type]="inputType">
                        <img src="../../assets/img/login/lock.png" (click)="passwordViewToggle()" *ngIf="!passwordView">
                        <img src="../../assets/img/login/open_lock.png" (click)="passwordViewToggle()"
                            *ngIf="passwordView">
                    </div>
                    <div *ngIf="loginForm.controls['password'].dirty && loginForm.controls['password'].touched"
                        class="warnContainer">
                        <span *ngIf="loginForm.controls['password'].errors">Falsches Passwort, bitte nocheinmal
                            versuchen.</span>
                    </div>
                </div>

                <p class="forgotPassword" [routerLink]="['forgot_password']">Passwort vergessen?</p>

                <div class="orOuterContainer">
                    <div class="line"></div>
                    <span>ODER</span>
                    <div class="line"></div>
                </div>

                <button [disabled]="loading" class="googleButton" (click)="loginWithGoogle()">
                    <img src="../../assets/img/login/Google.png">
                    <span>Anmelden mit Google</span>
                </button>

                <mat-card-actions align="end">
                    <button mat-raised-button color="secondary" type="submit" [disabled]="!loginForm.valid || loading"
                        class="submitBtn">Anmelden</button>
                    <button mat-raised-button color="secondary" class="guestBtn" (click)="guestLogin()"
                        type="button">Gäste-Login</button>
                </mat-card-actions>
            </mat-card>

        </form>

    </div>


</div>